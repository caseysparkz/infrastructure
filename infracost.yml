---
version: "0.1"
projects:
  - &default
    name: "/tfstate/"
    path: "./tfstate/"
    skip_autodetect: false
    terraform_workspace: "default"
    usage_file: "./tfstate/infracost_usage.yml"
    terraform_var_files: []
    dependency_paths: ["./tfstate/**"]

  - <<: *default
    name: "/com/caseysparkz/"
    path: "./com/caseysparkz/"
    usage_file: "./com/caseysparkz/infracost_usage.yml"
    terraform_var_files: ["./production.tfvars"]
    dependency_paths:
      - "./com/caseysparkz/*"
      - "./com/caseysparkz/production.tfvars"
      - "./modules/proton_domain/**"

  - <<: *default
    name: "/com/caseysparkz/ecr/"
    path: "./com/caseysparkz/ecr/"
    usage_file: "./com/caseysparkz/ecr/infracost_usage.yml"
    dependency_paths:
      - "./com/caseysparkz/ecr/**"
      - "./modules/ecr/**"

  - <<: *default
    name: "/com/caseysparkz/eks/"
    path: "./com/caseysparkz/eks/"
    usage_file: "./com/caseysparkz/eks/infracost_usage.yml"
    terraform_var_files: ["./production.tfvars"]
    dependency_paths: ["./com/caseysparkz/eks/**"]

  - <<: *default
    name: "/com/caseysparkz/store/"
    path: "./com/caseysparkz/store/"
    usage_file: "./com/caseysparkz/store/infracost_usage.yml"
    dependency_paths: ["./com/caseysparkz/store/**"]

  - <<: *default
    name: "/com/caseysparkz/www/"
    path: "./com/caseysparkz/www/"
    usage_file: "./com/caseysparkz/www/infracost_usage.yml"
    dependency_paths:
      - "./com/caseysparkz/www/**"
      - "./modules/hugo_static_site/**"
      - "./modules/s3_artifacts/**"
